jQuery(document).ready(function(){!function(t){var e=t("#egoi-loader"),a=egoi_config_ajax_object_ecommerce,o=t("#catalog_name"),n=t("#catalog_language"),c=t("#catalog_currency"),i=t("#create_catalog_button"),l=t("#catalog_tax"),r=t("#related_products"),s=t("#related_products_type_wrapper"),u=t("#default-store-country"),d=t("#default-store-currency"),p=t(".egoi-simple-close-x");function h(t){t.addClass("invalidjQuery"),setTimeout(function(){t.removeClass("invalidjQuery")},2e3)}i.on("click",function(e){if(a=!0,[o,n,c].forEach(function(t){""!=t.val()&&0!=t.val()&&"off"!=t.val()||(a=!1,h(t))}),a&&function(t){var e=!0;""!=t.val()&&"off"!=t.val()||(e=!1,h(t));return e}(l)){if(t("#preventCatalogSubmit").length)return;t("#form-create-catalog").submit()}else e.preventDefault();var a}),p.on("click",function(){t(t(t(this).parent()[0]).parent()[0]).hide()}),r.on("change",function(){console.log("Related products toggle changed:",t(this).is(":checked")),t(this).is(":checked")?(console.log("Showing related products type"),s.slideDown()):(console.log("Hiding related products type"),s.slideUp())}),console.log("Related products checkbox found:",r.length),console.log("Related products type wrapper found:",s.length),e.show(),t.get(a.ajax_url,{action:"egoi_catalog_utilities"},function(a){if(e.hide(),!1===(a=function(t){return void 0!==(t="string"==typeof(e=t)?JSON.parse(e):e).success&&!1===t.success?(a=t.data,alert(a),!1):t.data;var e,a}(a)))return!1;var o,i,r;o=a.countries,t.each(o,function(){this.value==u.val()?n.append(t("<option />").val(this.value).text(this.name).attr("selected","selected")):n.append(t("<option />").val(this.value).text(this.name))}),i=a.currencies,t.each(i,function(){this==d.val()?c.append(t("<option />").val(this).text(this).attr("selected","selected")):c.append(t("<option />").val(this).text(this))}),r=a.tax,t.each(r,function(){"0"==this.tax_rate?l.append(t("<option />").val(this.tax_rate).text(this.name+" ("+this.country+" | "+this.tax_rate+"%)").attr("selected","selected")):l.append(t("<option />").val(this.tax_rate).text(this.name+" ("+this.country+" | "+this.tax_rate+"%)"))})})}(jQuery)});